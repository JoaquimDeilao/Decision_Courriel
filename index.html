<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arbre de Décision - Mail</title>
  <style>
    body {
      font-family: Calibri, sans-serif;
      background-color: #ffcd00;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    .question-box {
      background-color: #000000;
      color: #ffffff;
      border-radius: 12px;
      padding: 30px;
      margin: 20px auto;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      text-align: center;
    }

    .question {
      font-size: 24px;
      font-weight: bold;
      text-transform: uppercase;
      margin-bottom: 20px;
    }

    .question img {
      width: 60px;
      height: 60px;
      display: block;
      margin: 0 auto 10px;
    }

    .responses {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 10px;
    }

    .response {
      background-color: #ffcd00;
      color: #000000;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      padding: 15px;
      text-align: center;
      cursor: pointer;
      width: 48%;
    }

    .response:hover {
      background-color: #e6b800;
    }

    .logo-box {
      background-color: #ffffff;
      border-radius: 12px;
      padding: 15px;
      margin-top: 20px;
      display: inline-block;
    }

    .logo {
      width: 80px;
      height: auto;
    }

    @media (max-width: 768px) {
      .responses {
        flex-direction: column;
      }

      .response {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div id="decision-tree" class="question-box">
    <p id="question-text" class="question">
      <img src="question.png" alt="Icône question">
      Avez-vous vraiment besoin d'envoyer un mail ?
    </p>
    <div id="response-buttons" class="responses">
      <button class="response" onclick="nextStep('response1')">
        Je pense que oui
      </button>
      <button class="response" onclick="nextStep('response2')">
        Explorons d'autres pistes
      </button>
    </div>
    <div class="logo-box">
      <img src="logo.png" class="logo" alt="Logo Conseil Départemental">
    </div>
  </div>

  <script>
    // Définition de l'arbre de décision
    const tree = {
      start: {
        question: "Avez-vous vraiment besoin d'envoyer un mail ?",
        icon: "question.png",
        responses: [
          { text: "Je pense que oui", next: "response1" },
          { text: "Explorons d'autres pistes", next: "response2" },
        ],
      },
      response1: {
        question: "Votre courriel nécessite-t-il une réponse rapide ?",
        icon: "urgent.png",
        responses: [
          { text: "Oui", next: "immediate-action" },
          { text: "Non", next: "trace" },
        ],
      },
      response2: {
        question: "Votre message est-il urgent ?",
        icon: "time.png",
        responses: [
          { text: "Oui", next: "immediate-action" },
          { text: "Non", next: "clarify" },
        ],
      },
      immediate-action: {
        question: "Utilisez un appel téléphonique ou un message instantané Teams pour une réponse rapide.",
        icon: "phone.png",
        responses: [],
      },
      trace: {
        question: "Est-ce important de conserver une trace écrite de cet échange ?",
        icon: "archive.png",
        responses: [
          { text: "Oui", next: "email-solution" },
          { text: "Non", next: "audience" },
        ],
      },
      email-solution: {
        question: "L'envoi d'un courriel semble approprié.",
        icon: "email.png",
        responses: [],
      },
      audience: {
        question: "Quelle est l'audience de ce message ?",
        icon: "group.png",
        responses: [
          { text: "Plusieurs personnes", next: "teams-group" },
          { text: "Une seule personne", next: "instant-message" },
        ],
      },
      teams-group: {
        question: "Une visio-conférence ou un message sur un groupe Teams est suffisant.",
        icon: "video.png",
        responses: [],
      },
      instant-message: {
        question: "Un appel ou l'utilisation de la messagerie instantanée Teams semble suffisant.",
        icon: "chat.png",
        responses: [],
      },
      clarify: {
        question: "Votre message nécessite-t-il des explications détaillées ?",
        icon: "clarify.png",
        responses: [
          { text: "Oui", next: "email-solution" },
          { text: "Non", next: "face-to-face" },
        ],
      },
      "face-to-face": {
        question: "Échanger directement ne serait-il pas plus pertinent ?",
        icon: "face-to-face.png",
        responses: [
          { text: "Oui", next: "end" },
          { text: "Non", next: "instant-message" },
        ],
      },
      end: {
        question: "Allez à la rencontre ou téléphonez à votre interlocuteur.",
        icon: "phone.png",
        responses: [],
      },
    };

    // Fonction pour changer la question
    function nextStep(stepName) {
      const step = tree[stepName];
      if (!step) {
        console.error("Étape introuvable :", stepName);
        return;
      }

      // Mise à jour de la question
      document.getElementById("question-text").innerHTML = `
        <img src="${step.icon}" alt="Icône">
        ${step.question}
      `;

      // Mise à jour des réponses
      const responseButtons = document.getElementById("response-buttons");
      responseButtons.innerHTML = "";
      if (step.responses && step.responses.length > 0) {
        step.responses.forEach((response) => {
          const button = document.createElement("button");
          button.className = "response";
          button.innerText = response.text;
          button.onclick = () => nextStep(response.next);
          responseButtons.appendChild(button);
        });
      } else {
        responseButtons.innerHTML = `<button class="response" onclick="reset()">Recommencer</button>`;
      }
    }

    // Réinitialisation de l'arbre
    function reset() {
      nextStep("start");
    }

    // Initialisation
    nextStep("start");
  </script>
</body>
</html>
