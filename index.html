<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arbre de Décision - Journée sans Mail</title>
  <style>
    /* Body styling */
    body {
      font-family: Calibri, sans-serif;
      background-color: #ffcd00;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    /* Question and response blocks */
    .question-box {
      background-color: #000000;
      color: #ffffff;
      border-radius: 12px;
      padding: 30px;
      margin: 20px auto;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      text-align: center;
    }

    /* Styling for the question */
    .question {
      font-size: 24px;
      font-weight: bold;
      text-transform: uppercase;
      margin-bottom: 20px;
    }

    .question img {
      width: 60px;
      height: 60px;
      display: block;
      margin: 0 auto 10px;
    }

    /* Response buttons */
    .responses {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 10px;
    }

    .response {
      background-color: #ffcd00;
      color: #000000;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      padding: 15px;
      text-align: center;
      cursor: pointer;
      width: 48%; /* Side-by-side for larger screens */
    }

    .response:hover {
      background-color: #e6b800;
    }

    /* Logo styling */
    .logo-box {
      background-color: #ffffff;
      border-radius: 8px;
      padding: 10px;
      margin-top: 20px;
      display: inline-block;
    }

    .logo {
      width: 50px;
      height: auto;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .responses {
        flex-direction: column;
      }

      .response {
        width: 100%; /* Full width for smaller screens */
      }
    }
  </style>
</head>
<body>
  <!-- Question Block -->
  <div id="decision-tree" class="question-box">
    <p id="question-text" class="question">
      <img src="question.png" alt="Icône question">
      As-tu vraiment besoin d’envoyer un email ?
    </p>
    <div id="response-buttons" class="responses">
      <button class="response" onclick="nextStep('response1')">
        Oui, j’en suis convaincu
      </button>
      <button class="response" onclick="nextStep('response2')">
        Non, explorons d’autres options
      </button>
    </div>
    <div class="logo-box">
      <img src="logo.png" class="logo" alt="Logo Conseil Départemental">
    </div>
  </div>

  <script>
    // Arbre de décision
    const tree = {
      response1: {
        question: "Ton email nécessite-t-il une réponse rapide ?",
        icon: "urgent.png",
        responses: [
          { text: "Oui, réponse rapide souhaitée", next: "immediate-action" },
          { text: "Non, pas de réponse immédiate attendue", next: "trace" },
        ],
      },
      response2: {
        question: "Ton message est-il urgent ou peut-il attendre un peu ?",
        icon: "time.png",
        responses: [
          { text: "C'est urgent", next: "immediate-action" },
          { text: "Ça peut attendre", next: "clarify" },
        ],
      },
      immediate-action: {
        question: "Utilisez un appel téléphonique ou un message instantané Teams pour une réponse rapide.",
        icon: "phone.png",
        responses: [],
      },
      trace: {
        question: "Est-ce important de garder une trace écrite de cet échange ?",
        icon: "archive.png",
        responses: [
          { text: "Oui, besoin de traçabilité", next: "email-solution" },
          { text: "Non, pas besoin de trace", next: "audience" },
        ],
      },
      email-solution: {
        question: "Envoyez un email pour garder une trace.",
        icon: "email.png",
        responses: [],
      },
      audience: {
        question: "Ce message concerne-t-il plusieurs personnes ou juste une seule ?",
        icon: "group.png",
        responses: [
          { text: "Plusieurs personnes", next: "teams-group" },
          { text: "Une seule personne", next: "instant-message" },
        ],
      },
      teams-group: {
        question: "Organisez une visio Teams ou envoyez un message de groupe sur Teams.",
        icon: "video.png",
        responses: [],
      },
      instant-message: {
        question: "Un message instantané Teams suffit.",
        icon: "chat.png",
        responses: [],
      },
      clarify: {
        question: "Ton message nécessite-t-il des explications détaillées ?",
        icon: "clarify.png",
        responses: [
          { text: "Oui, c'est un peu complexe", next: "email-solution" },
          { text: "Non, c'est simple", next: "face-to-face" },
        ],
      },
      "face-to-face": {
        question: "Discuter en face à face ne serait-il pas plus pertinent ?",
        icon: "face-to-face.png",
        responses: [
          { text: "Oui, c'est plus pertinent", next: "end" },
          { text: "Non, un message écrit suffit", next: "instant-message" },
        ],
      },
      end: {
        question: "Privilégiez un échange en face à face.",
        icon: "face-to-face.png",
        responses: [],
      },
    };

    // Fonction pour aller à l'étape suivante
    function nextStep(stepName) {
      const step = tree[stepName];
      const questionBox = document.getElementById("decision-tree");
      const responseButtons = document.getElementById("response-buttons");

      // Mise à jour de la question
      document.getElementById("question-text").innerHTML = `
        <img src="${step.icon}" alt="Icône">
        ${step.question}
      `;

      // Mise à jour des réponses
      responseButtons.innerHTML = "";
      if (step.responses.length > 0) {
        step.responses.forEach((response) => {
          const button = document.createElement("button");
          button.className = "response";
          button.innerText = response.text;
          button.onclick = () => nextStep(response.next);
          responseButtons.appendChild(button);
        });
      } else {
        responseButtons.innerHTML = `<button class="response" onclick="reset()">Recommencer</button>`;
      }
    }

    // Réinitialiser l'arbre de décision
    function reset() {
      location.reload();
    }
  </script>
</body>
</html>
